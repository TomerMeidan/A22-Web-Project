<!DOCTYPE html>
<html lang="en">
 <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Users - Main</title>
    <!-- Include Tailwind CSS via CDN -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
 </head>
 <body class="bg-gray-100 font-sans leading-normal tracking-normal" onload="buildUsersTable()">

    <header class="flex justify-center items-center h-16 bg-blue-500 text-white">
      <h1 class="text-xl">Factory Management Site</h1>
    </header>
    <main class="container mx-auto px-4 py-8">
      <div class="flex flex-wrap justify-center">
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2" onclick="location.href = '../index.html';">Homepage</button>
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2" onclick="location.href = '../employees/employees.html';">Employees</button>
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2" onclick="location.href = '../departments/departments.html';">Departments</button>
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2" onclick="location.href = '../shifts/shifts.html';">Shifts</button>
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2" onclick="location.href = 'users.html';">Users</button>
        <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded m-2" onclick="location.href = '../index.html';">Logout</button>
      </div>
      <div class="mt-8">
        <h3 class="text-lg font-semibold mb-4" id="user-name">Welcome, User</h3>
        <table class="w-full bg-white shadow-md rounded mt-6">
          <thead>
            <tr>
              <th class="border px-4 py-2">Name</th>
              <th class="border px-4 py-2">Max Actions Allowed</th>
              <th class="border px-4 py-2">Current Actions Allowed</th>
            </tr>
          </thead>
          <tbody id="users-table">
            <!-- Table rows will be populated by JavaScript -->
          </tbody>
        </table>
      </div>
    </main>

    <script>
      function buildUsersTable() {
        let usersTable = document.getElementById("users-table");

        // Fake data
        const usersData = [
          {
            name: 'John Doe',
            numOfActions: 100,
            currentActions: 50
          },
          {
            name: 'Jane Smith',
            numOfActions: 150,
            currentActions: 75
          },
          // ... more users
        ];

        usersData.forEach((user) => {
          let row = usersTable.insertRow(-1);

          let userNameCell = row.insertCell(0);
          let maxActionsCell = row.insertCell(1);
          let currentActionsCell = row.insertCell(2);

          userNameCell.innerHTML = user.name;
          maxActionsCell.innerHTML = user.numOfActions;
          currentActionsCell.innerHTML = user.currentActions;
        });

        const name = sessionStorage["name"] || "User";
        document.getElementById("user-name").innerText = `Welcome, ${name}`;
      }
    </script>
 </body>
</html>
